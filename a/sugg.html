<!DOCTYPE html>
<html lang="en">
    <body>
        <style>*{font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;}button, #c{font-family:cursive;}</style>
        <h1><i id="c">Suggestions</i></h1>
        <textarea placeholder="type..."></textarea><br>
        <button onclick="h()">suggest :D</button>
        <script>
            function h(){
                let txt = "";
                let req = new XMLHttpRequest();
                req.onreadystatechange = () => {
                    if (req.readyState == XMLHttpRequest.DONE) {
                        txt = JSON.parse(req.responseText).record;
                        let len = txt.length;
                        txt.push(document.querySelector("textarea").value);
                        let req2 = new XMLHttpRequest();
                        req2.onreadystatechange = () => {
                            if (req2.readyState == XMLHttpRequest.DONE) {
                                alert("suggested! now i have "+len-1+" suggestions!")
                            }
                        };
                        req2.open("PUT", "https://api.jsonbin.io/v3/b/69166f6e43b1c97be9ac0589?meta=false", true);
                        req2.setRequestHeader("Content-Type", "application/json");
                        req2.send(JSON.stringify(txt));
                        
                    }
                };
                req.open("GET", "https://api.jsonbin.io/v3/b/69166f6e43b1c97be9ac0589/latest", true);
                req.send();
            }
        </script>
    </body>
</html>